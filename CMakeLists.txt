cmake_minimum_required(VERSION 3.13)

project(memilio-simulations VERSION 1.0.0)

option(BUILD_2020_npis_sarscov2_wildtype_germany "Build 2024." ON)
option(BUILD_2021_vaccination_sarscov2_delta_germany "Build 2024." ON)
option(BUILD_abm "Build 2024." ON)
option(BUILD_abm_braunschweig "Build 2024." ON)
option(BUILD_munich_graph_sim "Build 2024." ON)
option(BUILD_2024_Ploetzke_Linear_Chain_Trick "Build 2024." ON)

if(BUILD_2024_Ploetzke_Linear_Chain_Trick)
  if(NOT EXISTS "${CMAKE_SOURCE_DIR}/2024_Ploetzke_Linear_Chain_Trick/build")
    execute_process(COMMAND mkdir "build/" WORKING_DIRECTORY "${CMAKE_SOURCE_DIR}/2024_Ploetzke_Linear_Chain_Trick")
  endif()
  execute_process(COMMAND cmake ".." WORKING_DIRECTORY "${CMAKE_SOURCE_DIR}/2024_Ploetzke_Linear_Chain_Trick/build")
  execute_process(COMMAND cmake "--build" "." "-j16" WORKING_DIRECTORY "${CMAKE_SOURCE_DIR}/2024_Ploetzke_Linear_Chain_Trick/build")
endif()

if(BUILD_2020_npis_sarscov2_wildtype_germany)
  if(NOT EXISTS "${CMAKE_SOURCE_DIR}/2020_npis_sarscov2_wildtype_germany/build")
    execute_process(COMMAND mkdir "build/" WORKING_DIRECTORY "${CMAKE_SOURCE_DIR}/2020_npis_sarscov2_wildtype_germany")
  endif()
  execute_process(COMMAND cmake ".." WORKING_DIRECTORY "${CMAKE_SOURCE_DIR}/2020_npis_sarscov2_wildtype_germany/build")
  execute_process(COMMAND cmake "--build" "." "-j16" WORKING_DIRECTORY "${CMAKE_SOURCE_DIR}/2020_npis_sarscov2_wildtype_germany/build")
endif()
